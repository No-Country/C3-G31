<div class="container ">
    <form #f="ngForm" (ngSubmit)="f.form.valid">
        <h1>Registrate aquí</h1>
        <div class="row border border-4 rounded p-3">

            <div class="col">

                <h2>Tus datos:</h2>
                <!-- Oculto el input file asi utilizo un boton personalizado para subir la foto(tambien lo voy a usar para el cv) -->
                <div>
                    <div>
                        <img [src]="imageURL[0]" width="100px" class="mb-3" >
                    </div>
                    <input type="file" accept="image/*" class="mb-3 d-none" id="inputFoto" name="fotoPerfil"
                        (change)="cargarImagen($event)">

                    <input type="button" value="Selecciona una foto"
                        onclick="document.getElementById('inputFoto').click()" class="btn btn-primary mb-3">
                </div>

                <!-- E-MAIL -->
                <div class="form-floating mb-3 ">
                    <input type="email" class="form-control" id="email" placeholder=" " [(ngModel)]="email" name="email"
                        required>
                    <label for="email"> Correo electrónico <small>(será tu usuario) *</small> </label>
                </div>
                <!-- NOMBRE -->
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="nombre" placeholder=" " [(ngModel)]='nombre'
                        name="nombre" required>
                    <label for="nombre">Nombre *</label>
                </div>
                <!-- APELLIDO -->
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="apellido" placeholder="" [(ngModel)]='apellido'
                        name="apellido" required>
                    <label for="apellido">Apellido *</label>
                </div>
                <!-- PRESENTACION -->
                <div class="form-floating mb-3">
                    <textarea class="form-control" id="presentacion" placeholder="" [(ngModel)]='presentacion'
                        name="presentacion"></textarea>
                    <label for="presentacion">Haz una breve presentación de ti</label>
                </div>
                <!-- TELEFONO -->
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="telefono" placeholder=" " [(ngModel)]="telefono"
                        name="telefono">
                    <label for="telefono">Teléfono</label>
                </div>
                <!-- SWITCHES -->
                <div class="form-check form-switch">
                    <div class="row ms-3">
                        <!-- MOVILIDAD PROPIA -->
                        <div class="col ">
                            <input class="form-check-input" type="checkbox" role="switch" id="switchMovilidad"
                                [(ngModel)]="movilidad" name="movilidad">
                            <label class="form-check-label" for="switchMovilidad">Movilidad propia</label>
                        </div>
                        <!-- DISPONIBILIDAD PARA VIAJAR -->
                        <div class="col">
                            <input class="form-check-input" type="checkbox" role="switch" id="switchDisponibilidad"
                                [(ngModel)]="disponibilidadViajar" name="disponibilidadViajar">
                            <label class="form-check-label" for="switchDisponibilidad">Disponibilidad para
                                viajar</label>
                        </div>
                    </div>
                </div>

                <!-- DISCAPACIDAD -->
                <div class="row ms-3 ">
                    <div class="col">
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" role="switch" id="switchDiscapacidad"
                                (click)="mostrarTextArea()"  [(ngModel)]="switchDiscapacidad" name="switchDiscapacidad">
                            <label class="form-check-label" for="switchDiscapacidad">Discapacidad</label>
                        </div>
                    </div>
                </div>
                <!-- CUENTANOS SOBRE TI -->
                <div class="row">
                    <div class="col mb-3">
                        <!-- Aqui si se activa el switch se abriria el text area -->
                        <textarea *ngIf="mostrar" class="form-control" placeholder="Cuéntanos más sobre ti"
                            id="floatingTextarea" [(ngModel)]="sobreTi" name="sobreTi"></textarea>
                    </div>
                </div>

                <!-- FECHA DE NACIMIENTO -->
                <div class="form-floating mb-3">
                    <input type="date" class="form-control" id="fechaNacimiento" placeholder=" "
                        [(ngModel)]="fechaNacimiento" name="fechaNacimiento">
                    <label for="fechaNacimiento">Fecha de nacimiento</label>
                </div>
                    <!-- CURRICULUM VITAE -->
                    <div class="form-floating mb-2 pt-5 pb-3 border-2 border text-center">
                        <div class="col-12">
                            <input type="file" class="mb-3 d-none" id="inputCv" name="curriculum"
                                (change)="cargarCv($event)">
    
                            <input type="button" value="Carga tu Curriculum Vitae"
                                onclick="document.getElementById('inputCv').click()" class="btn btn-primary mb-3">
                        
                         <label for="">{{labelCv}}</label>
                        </div>
                    </div>

            </div>
            <!-- AREA DIRECCION -->
            <div class="col  p-4 m-2">
                <div class="row mb-3 ">
                    <div class="col">
                        <h2>Dirección:</h2>
                        <!-- CALLE -->
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="calle" placeholder=" " [(ngModel)]="calle"
                                name="calle">
                            <label for="calle">Calle </label>
                        </div>

                        <div class="row">
                            <div class="col">
                                <!-- NUMERO -->
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" id="numero" placeholder=" "
                                        [(ngModel)]="numero" name="numero">
                                    <label for="numero">Número </label>
                                </div>
                            </div>
                            <div class="col">
                                <!-- PISO -->
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" id="piso" placeholder=" " [(ngModel)]="piso"
                                        name="piso">
                                    <label for="piso">Piso </label>
                                </div>
                            </div>

                            <div class="col">
                                <!-- DEPTO -->
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" id="depto" placeholder=" "
                                        [(ngModel)]="depto" name="depto">
                                    <label for="depto">Departamento </label>
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div class="col">
                                <!-- CODIGO POSTAL -->
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" id="cp" placeholder=" " [(ngModel)]="cp"
                                        name="cp">
                                    <label for="cp">Código postal</label>
                                </div>
                            </div>
                            <div class="col">
                                <!-- LOCALIDAD -->
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" id="localidad" placeholder=" "
                                        [(ngModel)]="localidad" name="localidad">
                                    <label for="localidad">Localidad</label>
                                </div>
                            </div>

                        </div>

                        <div class="col">
                            <!-- PROVINCIA -->
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="provincia" placeholder=" "
                                    [(ngModel)]="provincia" name="provincia">
                                <label for="provincia">Provincia</label>
                            </div>
                        </div>
                        <!-- OBSERVACIONES EXTRAS -->
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="observacionesDomicilio" placeholder=" "
                                [(ngModel)]="observacionesDomicilio" name="observacionesDomicilio">
                            <label for="observacionesDomicilio">Observaciones del domicilio</label>
                        </div>

                    </div>

                </div>
            
                <!-- PASSWORD -->
                <div class="form-floating mb-3">
                    <input type="password" class="form-control" id="password" placeholder=" " [(ngModel)]="password"
                        name="password" required autocomplete="on">
                    <label for="password">Contraseña *</label>
                </div>

                <!-- CONFIRMA PASSWORD -->
                <div class="form-floating mb-3">
                    <input type="password" class="form-control" id="confPassword" placeholder=" "
                        [(ngModel)]="confPassword" name="confPassword" required autocomplete="on"
                        (input)="verificarPass($event)">
                    <label for="confPassword">Confirma tu contraseña * </label>
                    <span for="" class="text-danger" *ngIf="banderaPass==false">Las contraseñas deben coincidir</span>

                </div>
                <!-- BOTONES -->
                <div class="row rounded p-4 ">
                    <small>(*)obligatorio</small>
                    <!-- BOTON ACEPTAR -->
                    <div class="col  text-center">
                        <button class=" container-fluid btn btn-lg btn-primary" (click)="registrar()"
                            [disabled]="!f.form.valid" [disabled]="banderaPass==false">Aceptar</button>
                    </div>

                    <!-- BOTON VOLVER -->
                    <div class="col text-center">
                        <div class=" container-fluid btn btn-lg btn-secondary" onclick="window.history.go(-1);">Volver</div>
                        <!--DAR DE BAJA AL USUARIO -->
                        <div *ngIf="estaAutenticado()">
                            <a class="text-danger" href="" onclick="event.preventDefault()" (click)="eliminarUsuario()">Eliminar cuenta</a>
                        </div>
                        <p *ngIf="!estaAutenticado()" class="small fw-bold mt-4 pt-1 mb-0 centrar">¿Ya tiene cuenta? <a href="" [routerLink]="['/login']"
                            class="link-primary mx-1"> Inicia sesión</a></p>
                    </div>
                <div class="row">
                </div>


            </div>
        </div>
</div>


